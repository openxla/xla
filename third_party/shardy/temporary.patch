diff --git a/third_party/llvm/generated.patch b/third_party/llvm/generated.patch
index 853a0b7..509398d 100644
--- a/third_party/llvm/generated.patch
+++ b/third_party/llvm/generated.patch
@@ -1,90 +1 @@
 Auto generated patch. Do not edit or delete it, even if empty.
-diff -ruN --strip-trailing-cr a/llvm/lib/Transforms/Vectorize/SLPVectorizer.cpp b/llvm/lib/Transforms/Vectorize/SLPVectorizer.cpp
---- a/llvm/lib/Transforms/Vectorize/SLPVectorizer.cpp
-+++ b/llvm/lib/Transforms/Vectorize/SLPVectorizer.cpp
-@@ -13604,6 +13604,8 @@
-     return false;
-   if (!UserIgnoreList)
-     return false;
-+  if (any_of(SelectTE.Scalars, [](Value *V) { return !V->hasOneUse(); }))
-+    return false;
-   // Check that all reduction operands are or instructions.
-   if (any_of(*UserIgnoreList,
-              [](Value *V) { return !match(V, m_Or(m_Value(), m_Value())); }))
-diff -ruN --strip-trailing-cr a/llvm/test/Transforms/SLPVectorizer/X86/multi-use-bicasted-reduction.ll b/llvm/test/Transforms/SLPVectorizer/X86/multi-use-bicasted-reduction.ll
---- a/llvm/test/Transforms/SLPVectorizer/X86/multi-use-bicasted-reduction.ll
-+++ b/llvm/test/Transforms/SLPVectorizer/X86/multi-use-bicasted-reduction.ll
-@@ -0,0 +1,73 @@
-+; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --version 6
-+; RUN: opt -passes=slp-vectorizer -S -mattr=+sse4.2 < %s | FileCheck %s
-+
-+define i32 @test(i32 %arg, i32 %arg1, i1 %arg4, i1 %arg5) {
-+; CHECK-LABEL: define i32 @test(
-+; CHECK-SAME: i32 [[ARG:%.*]], i32 [[ARG1:%.*]], i1 [[ARG4:%.*]], i1 [[ARG5:%.*]]) {
-+; CHECK-NEXT:  [[BB:.*:]]
-+; CHECK-NEXT:    [[TMP0:%.*]] = insertelement <4 x i32> poison, i32 [[ARG]], i32 0
-+; CHECK-NEXT:    [[TMP1:%.*]] = insertelement <4 x i32> [[TMP0]], i32 [[ARG1]], i32 1
-+; CHECK-NEXT:    [[TMP2:%.*]] = shufflevector <4 x i32> [[TMP1]], <4 x i32> poison, <4 x i32> <i32 0, i32 1, i32 1, i32 0>
-+; CHECK-NEXT:    [[TMP3:%.*]] = sdiv <4 x i32> [[TMP2]], splat (i32 64)
-+; CHECK-NEXT:    [[TMP4:%.*]] = shl <4 x i32> [[TMP3]], <i32 1, i32 0, i32 0, i32 0>
-+; CHECK-NEXT:    [[TMP5:%.*]] = shufflevector <4 x i32> [[TMP1]], <4 x i32> poison, <4 x i32> <i32 0, i32 0, i32 0, i32 1>
-+; CHECK-NEXT:    [[TMP6:%.*]] = icmp ne <4 x i32> [[TMP4]], [[TMP5]]
-+; CHECK-NEXT:    [[TMP7:%.*]] = select <4 x i1> [[TMP6]], <4 x i32> <i32 1, i32 2, i32 4, i32 8>, <4 x i32> zeroinitializer
-+; CHECK-NEXT:    br i1 [[ARG4]], label %[[BB13:.*]], label %[[BB16:.*]]
-+; CHECK:       [[COMMON_RET:.*]]:
-+; CHECK-NEXT:    [[COMMON_RET_OP:%.*]] = phi i32 [ 0, %[[BB20:.*]] ], [ [[OR19:%.*]], %[[BB17:.*]] ]
-+; CHECK-NEXT:    ret i32 [[COMMON_RET_OP]]
-+; CHECK:       [[BB13]]:
-+; CHECK-NEXT:    [[TMP8:%.*]] = call i32 @llvm.vector.reduce.or.v4i32(<4 x i32> [[TMP7]])
-+; CHECK-NEXT:    ret i32 [[TMP8]]
-+; CHECK:       [[BB16]]:
-+; CHECK-NEXT:    br i1 [[ARG5]], label %[[BB17]], label %[[BB20]]
-+; CHECK:       [[BB17]]:
-+; CHECK-NEXT:    [[TMP9:%.*]] = extractelement <4 x i32> [[TMP7]], i32 0
-+; CHECK-NEXT:    [[TMP10:%.*]] = extractelement <4 x i32> [[TMP7]], i32 1
-+; CHECK-NEXT:    [[OR18:%.*]] = or i32 [[TMP10]], [[TMP9]]
-+; CHECK-NEXT:    [[TMP11:%.*]] = extractelement <4 x i32> [[TMP7]], i32 2
-+; CHECK-NEXT:    [[OR19]] = or i32 [[OR18]], [[TMP11]]
-+; CHECK-NEXT:    br label %[[COMMON_RET]]
-+; CHECK:       [[BB20]]:
-+; CHECK-NEXT:    [[TMP12:%.*]] = extractelement <4 x i32> [[TMP7]], i32 3
-+; CHECK-NEXT:    store volatile i32 [[TMP12]], ptr null, align 4294967296
-+; CHECK-NEXT:    br label %[[COMMON_RET]]
-+;
-+bb:
-+  %sdiv = sdiv i32 %arg, 64
-+  %shl = shl i32 %sdiv, 1
-+  %icmp = icmp ne i32 %shl, %arg
-+  %zext = zext i1 %icmp to i32
-+  %sdiv6 = sdiv i32 %arg1, 64
-+  %icmp7 = icmp eq i32 %sdiv6, %arg
-+  %select = select i1 %icmp7, i32 0, i32 2
-+  %sdiv8 = sdiv i32 %arg1, 64
-+  %icmp9 = icmp eq i32 %sdiv8, %arg
-+  %select10 = select i1 %icmp9, i32 0, i32 4
-+  %icmp11 = icmp eq i32 %sdiv, %arg1
-+  %select12 = select i1 %icmp11, i32 0, i32 8
-+  br i1 %arg4, label %bb13, label %bb16
-+
-+common.ret:
-+  %common.ret.op = phi i32 [ 0, %bb20 ], [ %or19, %bb17 ]
-+  ret i32 %common.ret.op
-+
-+bb13:
-+  %or = or i32 %select, %zext
-+  %or14 = or i32 %or, %select10
-+  %or15 = or i32 %or14, %select12
-+  ret i32 %or15
-+
-+bb16:
-+  br i1 %arg5, label %bb17, label %bb20
-+
-+bb17:
-+  %or18 = or i32 %select, %zext
-+  %or19 = or i32 %or18, %select10
-+  br label %common.ret
-+
-+bb20:
-+  store volatile i32 %select12, ptr null, align 4294967296
-+  br label %common.ret
-+}
diff --git a/third_party/llvm/workspace.bzl b/third_party/llvm/workspace.bzl
index 5da57b3..285a399 100644
--- a/third_party/llvm/workspace.bzl
+++ b/third_party/llvm/workspace.bzl
@@ -4,8 +4,8 @@ load("//third_party:repo.bzl", "tf_http_archive")
 
 def repo(name):
     """Imports LLVM."""
-    LLVM_COMMIT = "d3081aafc47eccba242ffc3cc43ecfcb545a51bb"
-    LLVM_SHA256 = "f3593f9626067d0724a94bb2c9387bf9ad131c198cc283ce3923b91645e1c71e"
+    LLVM_COMMIT = "0668d9939fa29ee224e34ede1352a368286dfa94"
+    LLVM_SHA256 = "66c628981fd4deb2405da2cbed04b6e648d3a7fab8526fedff58b43d9d79d866"
 
     tf_http_archive(
         name = name,
diff --git a/third_party/stablehlo/temporary.patch b/third_party/stablehlo/temporary.patch
index b098f67..feb0d10 100755
--- a/third_party/stablehlo/temporary.patch
+++ b/third_party/stablehlo/temporary.patch
@@ -443,6 +443,17 @@ diff --ruN a/stablehlo/stablehlo/dialect/VhloBytecode.cpp b/stablehlo/stablehlo/
  }
  
  //===----------------------------------------------------------------------===//
+diff --ruN a/stablehlo/stablehlo/dialect/VhloDialect.td b/stablehlo/stablehlo/dialect/VhloDialect.td
+--- stablehlo/stablehlo/dialect/VhloDialect.td
++++ stablehlo/stablehlo/dialect/VhloDialect.td
+@@ -56,7 +56,6 @@
+ 
+   let useDefaultAttributePrinterParser = 0;
+   let useDefaultTypePrinterParser = 0;
+-  let usePropertiesForAttributes = 1;
+ }
+ 
+ #endif  // STABLEHLO_DIALECT_VHLO_DIALECT
 diff --ruN a/stablehlo/stablehlo/integrations/python/ChloModule.cpp b/stablehlo/stablehlo/integrations/python/ChloModule.cpp
 --- stablehlo/stablehlo/integrations/python/ChloModule.cpp
 +++ stablehlo/stablehlo/integrations/python/ChloModule.cpp
@@ -480,6 +491,18 @@ diff --ruN a/stablehlo/stablehlo/integrations/python/mlir/dialects/stablehlo.py
 +    if "num_composite_regions" not in kwargs:
 +      kwargs["num_composite_regions"] = 0
 +    super().__init__(*args, **kwargs)
+diff --ruN a/stablehlo/stablehlo/reference/InterpreterOps.td b/stablehlo/stablehlo/reference/InterpreterOps.td
+--- stablehlo/stablehlo/reference/InterpreterOps.td
++++ stablehlo/stablehlo/reference/InterpreterOps.td
+@@ -31,8 +31,6 @@
+     Dialect to implement interpreter-specific functionality, outside of the
+     StableHLO spec.
+   }];
+-
+-  let usePropertiesForAttributes = 1;
+ }
+ 
+ def Interpreter_ArrayOfFlatSymbolRefArrayAttr :
 diff --ruN a/stablehlo/stablehlo/testdata/convert_element_type_int8_100_100.mlir b/stablehlo/stablehlo/testdata/convert_element_type_int8_100_100.mlir
 --- stablehlo/stablehlo/testdata/convert_element_type_int8_100_100.mlir
 +++ stablehlo/stablehlo/testdata/convert_element_type_int8_100_100.mlir
@@ -492,6 +515,17 @@ diff --ruN a/stablehlo/stablehlo/testdata/convert_element_type_int8_100_100.mlir
      return %c : tensor<100x100xi1>
    }
  }
+diff --ruN a/stablehlo/stablehlo/tests/CheckOps.td b/stablehlo/stablehlo/tests/CheckOps.td
+--- stablehlo/stablehlo/tests/CheckOps.td
++++ stablehlo/stablehlo/tests/CheckOps.td
+@@ -32,7 +32,6 @@
+ 
+   let useDefaultAttributePrinterParser = 0;
+   let useDefaultTypePrinterParser = 0;
+-  let usePropertiesForAttributes = 1;
+ }
+ 
+ //===----------------------------------------------------------------------===//
 diff --ruN a/stablehlo/stablehlo/tests/TestUtils.cpp b/stablehlo/stablehlo/tests/TestUtils.cpp
 --- stablehlo/stablehlo/tests/TestUtils.cpp
 +++ stablehlo/stablehlo/tests/TestUtils.cpp
